{% extends "main/base.html" %}
{% load static %}
{% load i18n %}


{% block title %} {% translate 'Я ЕМ | Онлайн Меню' %} {% endblock title %}

{% block content %}

<!--button up-->
<a id="scrollToTopButton" class="btn fs-5 mx-2 shadow btn-rounded"
   style="color: #fd7014; background: rgba(33, 37, 41, 0.5); position: fixed; bottom: 100px; left: 10px; display: none; z-index: 100"
   href="#header">
    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-arrow-up"
         viewBox="0 0 16 16">
        <path fill-rule="evenodd"
              d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
    </svg>
</a>
<!--button end-->

<!--COUNTER START-->
<section class="" style="background: #212529">
    <div id="counter" class="indicator-list  container">
        <div class="row text-center fs-4 py-2 fw-bold" style="color: #fd7014">
            <div class="col-6 col-lg-4">
                <div class="indicators-item"> <!--item-1-->
                    <div data-num="{{total_clients}}" class="indicators-title"></div>
                    <div class="lng-unit4 indicators-subtitle text-white">{% trans 'Заведений' %}</div>
                </div>
            </div>
            <div class="col-6 col-lg-4">
                <div class="indicators-item"> <!--item-1-->
                    <div data-num={{total_dishes}} class="indicators-title"></div>
                    <div class="lng-unit4 indicators-subtitle text-white">{% trans 'Блюд' %}</div>
                </div>
            </div>
            <div class="col-6 col-lg-4">
                <div class="indicators-item"><!--item-3-->
                    <div data-num={{total_orders}} class="indicators-title"></div>
                    <div class="lng-unit6 indicators-subtitle text-white">{% trans 'Заказов' %}</div>
                </div>
            </div>
        </div>
    </div>
</section>
<!--COUNTER END-->

<main>
    <section class="skrollable pb-5"
             style="background-image: linear-gradient(0deg, rgba(51, 51, 51, 0.9), rgba(51, 51, 51, 0.9)), url({% static 'images/index/3-min.jpg' %});
    background-attachment: fixed; background-size: 150vh; background-repeat: repeat">

        <div data-aos="fade-up" class="container text-center">
            <h1 data-aos="fade-up" class="pt-4 fw-bold" style="color: #fd7014">{% translate 'ЗАВЕДЕНИЯ' %}</h1>
            <!--   CITY FOR LOOP     -->
            <div class="btn-group-sm" role="group">
                <a href="{% url 'main:main_page' %}"
                   {% if city_selected is None %}
                   class="btn btn-warning btn-animate"
                   {% else %}
                   class="btn btn-success btn-animate"
                   {% endif %}>{% translate 'Все' %}
                </a>

                {% for city in cities %}
                <a href="{% url 'main:city_filter' city.slug %}"
                   {% if city.pk == city_selected.pk %}
                   class="btn btn-warning btn-animate"
                   {% else %}
                   class="btn btn-success btn-animate"
                   {% endif %}>{{ city }}
                </a>
                {% endfor %}
                <!--   END CITY FOR LOOP     -->


                <!--  SEARCH FIELD -->

                <form method="get">
                    <input type="text" name="q" placeholder="Название заведения">
                    <button type="submit">Найти</button>
                </form>


                <!-- END SEARCH FIELD -->

            </div>
        </div>


        <div class="container">
            <div class="row my-3 gy-3 mx-auto justify-content-center">

                <!--- цикл -->
                {% for client in clients %}
                {% if client.status %}
                <div class="col-12 col-md-6 col-lg-4 text-center">
                    <div class="card text-white" style="background: rgba(33, 37, 41, 0.5)">
                        <img data-aos="zoom-out-right" src="{{client.logo.url}}" class="card-img-top mx-auto mt-2 mb-0"
                             alt="..."
                             style="border-radius: 15px; max-width: 225px; max-height: 225px">

                        <div class="card-body my-0 py-1">
                            <h4 data-aos="zoom-out-right" class="card-title my-0">{{ client.name }}</h4>
                            <p data-aos="zoom-out-right" class="card-text my-0 text-white-50">{% translate 'Время работы' %}:
                                {{ client.working_time }}</p>
                            <p data-aos="zoom-out-right" class="my-0">{{ client.description }}</p>
                            <div class="row my-0">
                                <div data-aos="zoom-out-right" class="col-6 my-0">
                                    <p class="text my-0"> {% translate 'Самовывоз' %}
                                        {% if client.outside %}
                                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
                                             fill="currentColor"
                                             class="bi bi-check bg-success" viewBox="0 0 16 16"
                                             style="border-radius: 25px;">
                                            <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
                                        </svg>
                                        {% else %}
                                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white"
                                             class="bi bi-x bg-danger" viewBox="0 0 16 16"
                                             style="border-radius: 25px;">
                                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                        </svg>
                                    </p>
                                    {% endif %}
                                </div>
                                <div data-aos="fade-up" class="col-6 my-0">
                                    <p class="my-0">{% translate 'Доставка' %}
                                        {% if client.delivery %}
                                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
                                             fill="currentColor"
                                             class="bi bi-check bg-success" viewBox="0 0 16 16"
                                             style="border-radius: 25px;"> viewBox="0 0 16 16">
                                            <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
                                        </svg>
                                        {% else %}
                                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white"
                                             class="bi bi-x bg-danger" viewBox="0 0 16 16"
                                             style="border-radius: 25px;">
                                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                        </svg>
                                        {% endif %}
                                    </p>
                                </div>
                            </div>
                            <a href="{% url 'main:menu_page' url_name=client.url_name %}">
                                <button data-aos="fade-up" class="btn btn-success btn-rounded px-4 my-2 btn-animate">{% translate 'Перейти' %}
                                </button>
                            </a>
                        </div>
                    </div>
                </div>
                {% endif %}
                {% endfor %}
            </div>
        </div>
    </section>

</main>

{% endblock content %}